# Telegram Email Bot

Этот проект представляет собой Telegram-бота, который принимает email пользователя, текст сообщения и отправляет это сообщение на указанный email через SMTP-сервер Яндекса.

## Основные возможности

1. Запрос email у пользователя с проверкой на корректность.
2. Запрос текста сообщения.
3. Отправка сообщения на указанный email через SMTP-сервер Яндекса.

## Установка и настройка

### 1. Клонирование репозитория

Склонируйте проект:

```bash
git clone https://github.com/uumk0n/smtp_tg_bot.git
cd smtp_tg_bot
```

### 2. Создание виртуального окружения

Рекомендуется использовать виртуальное окружение:

```bash
python -m venv venv
source venv/bin/activate  # Для Linux/MacOS
venv\Scripts\activate     # Для Windows
```

### 3. Установка зависимостей

Установите зависимости из файла `requirements.txt`:

```bash
pip install -r requirements.txt
```

### 4. Настройка переменных окружения

Создайте файл `.env` в корневой папке проекта и заполните его следующим содержимым:

```env
TELEGRAM_TOKEN=ваш_токен_бота
SMTP_SERVER=smtp.yandex.ru
SMTP_PORT=465
SMTP_LOGIN=ваш_университетский_ящик@домен.ru
SMTP_PASSWORD=пароль_почты
```

#### Получение Telegram токена

1. Откройте Telegram и найдите [BotFather](https://t.me/botfather).
2. Создайте нового бота и получите токен.

#### Настройка SMTP Яндекса

1. Убедитесь, что в почтовом ящике Яндекса включена поддержка SMTP и разрешен доступ сторонним приложениям.
2. Создайте пароль приложения в настройках безопасности аккаунта.

### 5. Запуск бота

Для запуска бота выполните:

```bash
python bot.py
```

## Использование

1. В Telegram начните диалог с ботом, отправив команду `/start`.
2. Следуйте инструкциям:
   - Отправьте email.
   - Введите текст сообщения.
3. Бот отправит письмо на указанный email через SMTP.

## Структура проекта

```
.
├── main.py                # Основной код бота
├── requirements.txt      # Зависимости проекта
├── .env                  # Переменные окружения (не добавляется в репозиторий)
└── README.md             # Документация
```

## Зависимости

Проект использует следующие библиотеки:

- `aiogram` — для взаимодействия с Telegram API.
- `python-dotenv` — для работы с переменными окружения.

## Возможные ошибки

1. **Некорректный email**: Бот сообщит об ошибке, если введенный email не соответствует формату.
2. **Ошибка SMTP**: Проверьте настройки почты, корректность логина/пароля и наличие интернета.
3. **Отсутствие ответа от бота**: Убедитесь, что токен Telegram бота корректен.
